{"ast":null,"code":"import _slicedToArray from\"/Users/eli/Library/Mobile Documents/com~apple~CloudDocs/Coding/2023 code/ejtos-react_budget_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from'react';import{AppContext}from'../context/AppContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllocationForm=function AllocationForm(props){var _useContext=useContext(AppContext),dispatch=_useContext.dispatch,remaining=_useContext.remaining,currency=_useContext.currency;// Added currency here\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),cost=_useState4[0],setCost=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),action=_useState6[0],setAction=_useState6[1];var _useState7=useState(currency),_useState8=_slicedToArray(_useState7,2),currencyPrefix=_useState8[0],setCurrencyPrefix=_useState8[1];// State to hold currency prefix\n// Update currency prefix when the currency changes\nuseEffect(function(){setCurrencyPrefix(currency);},[currency]);var submitEvent=function submitEvent(){if(cost>remaining){alert(\"The value cannot exceed remaining funds \".concat(currencyPrefix).concat(remaining));setCost('');return;}var expense={name:name,cost:parseInt(cost)};if(action==='Reduce'){dispatch({type:'RED_EXPENSE',payload:expense});}else{dispatch({type:'ADD_EXPENSE',payload:expense});}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",style:{marginLeft:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"label\",{className:\"input-group-text\",htmlFor:\"inputGroupSelect01\",children:\"Department\"})}),/*#__PURE__*/_jsxs(\"select\",{className:\"custom-select\",id:\"inputGroupSelect01\",onChange:function onChange(event){return setName(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,children:\"Choose...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Marketing\",name:\"marketing\",children:\"Marketing\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sales\",name:\"sales\",children:\"Sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Finance\",name:\"finance\",children:\"Finance\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HR\",name:\"hr\",children:\"HR\"}),/*#__PURE__*/_jsx(\"option\",{value:\"IT\",name:\"it\",children:\"IT\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",name:\"admin\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",style:{marginLeft:'2rem'},children:/*#__PURE__*/_jsx(\"label\",{className:\"input-group-text\",htmlFor:\"inputGroupSelect02\",children:\"Allocation\"})}),/*#__PURE__*/_jsxs(\"select\",{className:\"custom-select\",id:\"inputGroupSelect02\",onChange:function onChange(event){return setAction(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:true,value:\"Add\",name:\"Add\",children:\"Add\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Reduce\",name:\"Reduce\",children:\"Reduce\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group-prepend\",style:{marginLeft:'2rem'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:currencyPrefix}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{required:\"required\",type:\"number\",id:\"cost\",value:cost,style:{marginLeft:'2rem',size:10},onChange:function onChange(event){return setCost(event.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:submitEvent,style:{marginLeft:'2rem'},children:\"Save\"})]})})});};export default AllocationForm;","map":{"version":3,"names":["React","useContext","useState","useEffect","AppContext","AllocationForm","props","dispatch","remaining","currency","name","setName","cost","setCost","action","setAction","currencyPrefix","setCurrencyPrefix","submitEvent","alert","expense","parseInt","type","payload","marginLeft","event","target","value","size"],"sources":["/Users/eli/Library/Mobile Documents/com~apple~CloudDocs/Coding/2023 code/ejtos-react_budget_app/src/components/AllocationForm.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { AppContext } from '../context/AppContext';\n\nconst AllocationForm = (props) => {\n    const { dispatch, remaining, currency } = useContext(AppContext); // Added currency here\n\n    const [name, setName] = useState('');\n    const [cost, setCost] = useState('');\n    const [action, setAction] = useState('');\n    const [currencyPrefix, setCurrencyPrefix] = useState(currency); // State to hold currency prefix\n\n    // Update currency prefix when the currency changes\n    useEffect(() => {\n        setCurrencyPrefix(currency);\n    }, [currency]);\n\n    const submitEvent = () => {\n        if (cost > remaining) {\n            alert(`The value cannot exceed remaining funds ${currencyPrefix}${remaining}`);\n            setCost('');\n            return;\n        }\n\n        const expense = {\n            name: name,\n            cost: parseInt(cost),\n        };\n\n        if (action === 'Reduce') {\n            dispatch({\n                type: 'RED_EXPENSE',\n                payload: expense,\n            });\n        } else {\n            dispatch({\n                type: 'ADD_EXPENSE',\n                payload: expense,\n            });\n        }\n    };\n\n    return (\n        <div>\n            <div className=\"row\">\n                <div className=\"input-group mb-3\" style={{ marginLeft: '2rem' }}>\n                    <div className=\"input-group-prepend\">\n                        <label className=\"input-group-text\" htmlFor=\"inputGroupSelect01\">\n                            Department\n                        </label>\n                    </div>\n                    <select\n                        className=\"custom-select\"\n                        id=\"inputGroupSelect01\"\n                        onChange={(event) => setName(event.target.value)}\n                    >\n                        <option defaultValue>Choose...</option>\n                        <option value=\"Marketing\" name=\"marketing\">\n                            Marketing\n                        </option>\n                        <option value=\"Sales\" name=\"sales\">\n                            Sales\n                        </option>\n                        <option value=\"Finance\" name=\"finance\">\n                            Finance\n                        </option>\n                        <option value=\"HR\" name=\"hr\">\n                            HR\n                        </option>\n                        <option value=\"IT\" name=\"it\">\n                            IT\n                        </option>\n                        <option value=\"Admin\" name=\"admin\">\n                            Admin\n                        </option>\n                    </select>\n\n                    <div className=\"input-group-prepend\" style={{ marginLeft: '2rem' }}>\n                        <label className=\"input-group-text\" htmlFor=\"inputGroupSelect02\">\n                            Allocation\n                        </label>\n                    </div>\n                    <select\n                        className=\"custom-select\"\n                        id=\"inputGroupSelect02\"\n                        onChange={(event) => setAction(event.target.value)}\n                    >\n                        <option defaultValue value=\"Add\" name=\"Add\">\n                            Add\n                        </option>\n                        <option value=\"Reduce\" name=\"Reduce\">\n                            Reduce\n                        </option>\n                    </select>\n\n                    <div className=\"input-group-prepend\" style={{ marginLeft: '2rem' }}>\n                        <span className=\"input-group-text\">{currencyPrefix}</span> {/* Currency prefix */}\n                    </div>\n                    <input\n                        required=\"required\"\n                        type=\"number\"\n                        id=\"cost\"\n                        value={cost}\n                        style={{ marginLeft: '2rem', size: 10 }}\n                        onChange={(event) => setCost(event.target.value)}\n                    />\n\n                    <button\n                        className=\"btn btn-primary\"\n                        onClick={submitEvent}\n                        style={{ marginLeft: '2rem' }}\n                    >\n                        Save\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AllocationForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}